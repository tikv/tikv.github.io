<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `store` mod in crate `raftstore`."><meta name="keywords" content="rust, rustlang, rust-lang, store"><title>raftstore::store - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../raftstore/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module store</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../index.html">raftstore</a></p><div id="sidebar-vars" data-name="store" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">raftstore</a>::<wbr><a class="mod" href="">store</a><button id="copy-path" onclick="copy_path(this)">⎘</button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/raftstore/store/mod.rs.html#3-62" title="goto source code">[src]</a></span></h1><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<table><tr><td><code>pub use self::config::<a class="struct" href="../../raftstore/store/config/struct.Config.html" title="struct raftstore::store::config::Config">Config</a>;</code></td></tr><tr><td><code>pub use self::fsm::<a class="struct" href="../../raftstore/store/fsm/store/struct.RaftRouter.html" title="struct raftstore::store::fsm::store::RaftRouter">RaftRouter</a>;</code></td></tr><tr><td><code>pub use self::fsm::<a class="struct" href="../../raftstore/store/fsm/store/struct.StoreInfo.html" title="struct raftstore::store::fsm::store::StoreInfo">StoreInfo</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="enum" href="../../raftstore/store/msg/enum.Callback.html" title="enum raftstore::store::msg::Callback">Callback</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="enum" href="../../raftstore/store/msg/enum.CasualMessage.html" title="enum raftstore::store::msg::CasualMessage">CasualMessage</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="type" href="../../raftstore/store/msg/type.ExtCallback.html" title="type raftstore::store::msg::ExtCallback">ExtCallback</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="enum" href="../../raftstore/store/msg/enum.MergeResultKind.html" title="enum raftstore::store::msg::MergeResultKind">MergeResultKind</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="enum" href="../../raftstore/store/msg/enum.PeerMsg.html" title="enum raftstore::store::msg::PeerMsg">PeerMsg</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="struct" href="../../raftstore/store/msg/struct.PeerTicks.html" title="struct raftstore::store::msg::PeerTicks">PeerTicks</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="struct" href="../../raftstore/store/msg/struct.RaftCommand.html" title="struct raftstore::store::msg::RaftCommand">RaftCommand</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="type" href="../../raftstore/store/msg/type.ReadCallback.html" title="type raftstore::store::msg::ReadCallback">ReadCallback</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="struct" href="../../raftstore/store/msg/struct.ReadResponse.html" title="struct raftstore::store::msg::ReadResponse">ReadResponse</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="enum" href="../../raftstore/store/msg/enum.SignificantMsg.html" title="enum raftstore::store::msg::SignificantMsg">SignificantMsg</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="enum" href="../../raftstore/store/msg/enum.StoreMsg.html" title="enum raftstore::store::msg::StoreMsg">StoreMsg</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="enum" href="../../raftstore/store/msg/enum.StoreTick.html" title="enum raftstore::store::msg::StoreTick">StoreTick</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="type" href="../../raftstore/store/msg/type.WriteCallback.html" title="type raftstore::store::msg::WriteCallback">WriteCallback</a>;</code></td></tr><tr><td><code>pub use self::msg::<a class="struct" href="../../raftstore/store/msg/struct.WriteResponse.html" title="struct raftstore::store::msg::WriteResponse">WriteResponse</a>;</code></td></tr><tr><td><code>pub use self::transport::<a class="trait" href="../../raftstore/store/transport/trait.CasualRouter.html" title="trait raftstore::store::transport::CasualRouter">CasualRouter</a>;</code></td></tr><tr><td><code>pub use self::transport::<a class="trait" href="../../raftstore/store/transport/trait.ProposalRouter.html" title="trait raftstore::store::transport::ProposalRouter">ProposalRouter</a>;</code></td></tr><tr><td><code>pub use self::transport::<a class="trait" href="../../raftstore/store/transport/trait.StoreRouter.html" title="trait raftstore::store::transport::StoreRouter">StoreRouter</a>;</code></td></tr><tr><td><code>pub use self::transport::<a class="trait" href="../../raftstore/store/transport/trait.Transport.html" title="trait raftstore::store::transport::Transport">Transport</a>;</code></td></tr><tr><td><code>pub use self::util::<a class="struct" href="../../raftstore/store/util/struct.RegionReadProgress.html" title="struct raftstore::store::util::RegionReadProgress">RegionReadProgress</a>;</code></td></tr></table><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="bootstrap/index.html" title="raftstore::store::bootstrap mod">bootstrap</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="cmd_resp/index.html" title="raftstore::store::cmd_resp mod">cmd_resp</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="compaction_guard/index.html" title="raftstore::store::compaction_guard mod">compaction_guard</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="config/index.html" title="raftstore::store::config mod">config</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="fsm/index.html" title="raftstore::store::fsm mod">fsm</a></td><td class="docblock-short"><p>Generally peers are state machines that represent a replica of a region,
and store is also a special state machine that handles all requests across
stores. They are mixed for now, will be separated in the future.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="hibernate_state/index.html" title="raftstore::store::hibernate_state mod">hibernate_state</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="local_metrics/index.html" title="raftstore::store::local_metrics mod">local_metrics</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="memory/index.html" title="raftstore::store::memory mod">memory</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="metrics/index.html" title="raftstore::store::metrics mod">metrics</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="msg/index.html" title="raftstore::store::msg mod">msg</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="peer/index.html" title="raftstore::store::peer mod">peer</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="peer_storage/index.html" title="raftstore::store::peer_storage mod">peer_storage</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="read_queue/index.html" title="raftstore::store::read_queue mod">read_queue</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="region_snapshot/index.html" title="raftstore::store::region_snapshot mod">region_snapshot</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="replication_mode/index.html" title="raftstore::store::replication_mode mod">replication_mode</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="snap/index.html" title="raftstore::store::snap mod">snap</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="transport/index.html" title="raftstore::store::transport mod">transport</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="util/index.html" title="raftstore::store::util mod">util</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="worker/index.html" title="raftstore::store::worker mod">worker</a></td><td class="docblock-short"></td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.ApplyOptions.html" title="raftstore::store::ApplyOptions struct">ApplyOptions</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.AutoSplitController.html" title="raftstore::store::AutoSplitController struct">AutoSplitController</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.CompactionGuardGeneratorFactory.html" title="raftstore::store::CompactionGuardGeneratorFactory struct">CompactionGuardGeneratorFactory</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.DestroyPeerJob.html" title="raftstore::store::DestroyPeerJob struct">DestroyPeerJob</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.FlowStatistics.html" title="raftstore::store::FlowStatistics struct">FlowStatistics</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.GlobalReplicationState.html" title="raftstore::store::GlobalReplicationState struct">GlobalReplicationState</a></td><td class="docblock-short"><p>A global state that stores current replication mode and related metadata.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.KeyEntry.html" title="raftstore::store::KeyEntry struct">KeyEntry</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.LocalReader.html" title="raftstore::store::LocalReader struct">LocalReader</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Peer.html" title="raftstore::store::Peer struct">Peer</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.PeerStat.html" title="raftstore::store::PeerStat struct">PeerStat</a></td><td class="docblock-short"><p>Statistics about raft peer.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.PeerStorage.html" title="raftstore::store::PeerStorage struct">PeerStorage</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ProposalContext.html" title="raftstore::store::ProposalContext struct">ProposalContext</a></td><td class="docblock-short"><p>A bitmap contains some useful flags when dealing with <code>eraftpb::Entry</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ReadDelegate.html" title="raftstore::store::ReadDelegate struct">ReadDelegate</a></td><td class="docblock-short"><p>A read only delegate of <code>Peer</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ReadIndexContext.html" title="raftstore::store::ReadIndexContext struct">ReadIndexContext</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ReadStats.html" title="raftstore::store::ReadStats struct">ReadStats</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.RegionIterator.html" title="raftstore::store::RegionIterator struct">RegionIterator</a></td><td class="docblock-short"><p><code>RegionIterator</code> wrap a rocksdb iterator and only allow it to
iterate in the region. It behaves as if underlying
db only contains one region.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.RegionSnapshot.html" title="raftstore::store::RegionSnapshot struct">RegionSnapshot</a></td><td class="docblock-short"><p>Snapshot of a region.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SnapKey.html" title="raftstore::store::SnapKey struct">SnapKey</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SnapManager.html" title="raftstore::store::SnapManager struct">SnapManager</a></td><td class="docblock-short"><p><code>SnapManagerCore</code> trace all current processing snapshots.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SnapManagerBuilder.html" title="raftstore::store::SnapManagerBuilder struct">SnapManagerBuilder</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SnapshotStatistics.html" title="raftstore::store::SnapshotStatistics struct">SnapshotStatistics</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SplitCheckRunner.html" title="raftstore::store::SplitCheckRunner struct">SplitCheckRunner</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SplitConfig.html" title="raftstore::store::SplitConfig struct">SplitConfig</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SplitConfigManager.html" title="raftstore::store::SplitConfigManager struct">SplitConfigManager</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.StoreGroup.html" title="raftstore::store::StoreGroup struct">StoreGroup</a></td><td class="docblock-short"><p>A registry that maps store to a group.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TrackVer.html" title="raftstore::store::TrackVer struct">TrackVer</a></td><td class="docblock-short"></td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.GroupState.html" title="raftstore::store::GroupState enum">GroupState</a></td><td class="docblock-short"><p>Represents state of the group.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.PdTask.html" title="raftstore::store::PdTask enum">PdTask</a></td><td class="docblock-short"><p>Uses an asynchronous thread to tell PD something.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.RegionTask.html" title="raftstore::store::RegionTask enum">RegionTask</a></td><td class="docblock-short"><p>Region related task</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.RequestPolicy.html" title="raftstore::store::RequestPolicy enum">RequestPolicy</a></td><td class="docblock-short"><p><code>RequestPolicy</code> decides how we handle a request.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.SnapEntry.html" title="raftstore::store::SnapEntry enum">SnapEntry</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.SnapError.html" title="raftstore::store::SnapError enum">SnapError</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.SnapState.html" title="raftstore::store::SnapState enum">SnapState</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.SplitCheckTask.html" title="raftstore::store::SplitCheckTask enum">SplitCheckTask</a></td><td class="docblock-short"></td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.INIT_EPOCH_CONF_VER.html" title="raftstore::store::INIT_EPOCH_CONF_VER constant">INIT_EPOCH_CONF_VER</a></td><td class="docblock-short"><p>The initial region epoch conf_version.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.INIT_EPOCH_VER.html" title="raftstore::store::INIT_EPOCH_VER constant">INIT_EPOCH_VER</a></td><td class="docblock-short"><p>The initial region epoch version.</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.RAFT_INIT_LOG_INDEX.html" title="raftstore::store::RAFT_INIT_LOG_INDEX constant">RAFT_INIT_LOG_INDEX</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.RAFT_INIT_LOG_TERM.html" title="raftstore::store::RAFT_INIT_LOG_TERM constant">RAFT_INIT_LOG_TERM</a></td><td class="docblock-short"></td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.AbstractPeer.html" title="raftstore::store::AbstractPeer trait">AbstractPeer</a></td><td class="docblock-short"><p>A poor version of <code>Peer</code> to avoid port generic variables everywhere.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.FlowStatsReporter.html" title="raftstore::store::FlowStatsReporter trait">FlowStatsReporter</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.GenericSnapshot.html" title="raftstore::store::GenericSnapshot trait">GenericSnapshot</a></td><td class="docblock-short"><p><code>GenericSnapshot</code> is a snapshot not tied to any KV engines.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.RequestInspector.html" title="raftstore::store::RequestInspector trait">RequestInspector</a></td><td class="docblock-short"><p><code>RequestInspector</code> makes <code>RequestPolicy</code> for requests.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Snapshot.html" title="raftstore::store::Snapshot trait">Snapshot</a></td><td class="docblock-short"><p><code>Snapshot</code> is a trait for snapshot.
It’s used in these scenarios:</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.apply_sst_cf_file.html" title="raftstore::store::apply_sst_cf_file fn">apply_sst_cf_file</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bootstrap_store.html" title="raftstore::store::bootstrap_store fn">bootstrap_store</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.build_sst_cf_file.html" title="raftstore::store::build_sst_cf_file fn">build_sst_cf_file</a></td><td class="docblock-short"><p>Build a snapshot file for the given column family in sst format.
If there are no key-value pairs fetched, no files will be created at <code>path</code>,
otherwise the file will be created and synchronized.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.check_abort.html" title="raftstore::store::check_abort fn">check_abort</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.clear_meta.html" title="raftstore::store::clear_meta fn">clear_meta</a></td><td class="docblock-short"><p>Delete all meta belong to the region. Results are stored in <code>wb</code>.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.clear_prepare_bootstrap_cluster.html" title="raftstore::store::clear_prepare_bootstrap_cluster fn">clear_prepare_bootstrap_cluster</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.clear_prepare_bootstrap_key.html" title="raftstore::store::clear_prepare_bootstrap_key fn">clear_prepare_bootstrap_key</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.copy_snapshot.html" title="raftstore::store::copy_snapshot fn">copy_snapshot</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.do_snapshot.html" title="raftstore::store::do_snapshot fn">do_snapshot</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.initial_region.html" title="raftstore::store::initial_region fn">initial_region</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.prepare_bootstrap_cluster.html" title="raftstore::store::prepare_bootstrap_cluster fn">prepare_bootstrap_cluster</a></td><td class="docblock-short"><p>The first phase of bootstrap cluster</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.write_initial_apply_state.html" title="raftstore::store::write_initial_apply_state fn">write_initial_apply_state</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.write_initial_raft_state.html" title="raftstore::store::write_initial_raft_state fn">write_initial_raft_state</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.write_peer_state.html" title="raftstore::store::write_peer_state fn">write_peer_state</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="raftstore" data-search-js="../../search-index.js"></div>
    <script src="../../main.js"></script></body></html>